<ion-view view-title="患者分组" cache-view="false" hide-tabs>
    <ion-nav-buttons side="right">
        <button class="button" ng-click="client.openGroupModal()">
            <i class="ion-plus-round"></i>
        </button>
    </ion-nav-buttons>
    <ion-content>
        <ion-list>
            <ion-item ng-repeat="group in params.patientGroups|orderBy:'PatientGroup.CreatedOn'" href="#/doc/index/patientGroupList/{{group.PatientGroup.PatientGroupId}}">
                {{group.PatientGroup.Name}}({{group.Count}}人)
                <ion-option-button class="button-assertive" ng-click="client.delete(group)">删除</ion-option-button>
            </ion-item>
        </ion-list>
    </ion-content>
    <script id="group-modal.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar>
                <button class="button" ng-click="client.closeGroupModal()">返回</button>
                <h1 class="title">添加分组</h1>
                <button class="button" ng-click="client.addGroup()">保存</button>
            </ion-header-bar>
            <ion-content>
                <div class="list">{{modalGroupName}}
                    <div class="item item-input">
                        <input type="text" placeholder="名字" ng-model="modalGroup.name">
                    </div>
                </div>
            </ion-content>
        </ion-modal-view>
    </script>
</ion-view>
